{"pageProps":{"issue":{"body":"「作るのにどれくらいかかりますか？」と訊かれるとイラッとしてしまうことがある。そうなってしまう理由についてある程度自分の中で言語化しておきたい。\r\n\r\nそういう訊かれ方をする状況は大抵小規模なMTGで何かのプロジェクトの企画段階で起きる。OOなユーザー向けにXXという機能を追加しようかと思っているんですが、これ作るのにどれくらいかかりますか？といった具合だ。\r\n\r\nこういった質問が飛んでくる場合は決まって企画側で未確定の要素が多い。こちらとしては未確定の要素があると曖昧の見積りしかできないし、当然不測の事態を想定して多めにバッファを含めた回答になる。そうすると(おそらく)想定よりも長めの期間の見積りを返された企画者は開発にそんなに掛かるのか...と不満げな様子になってしまう。こちらは困らせたくて長めに見積もりを出しているわけではないのに開発にそんなに掛かるのか...という雰囲気を出されると開発者としての力量を疑われているように感じてしまってイラッとしてしまう。\r\n\r\nその他のパターンとしては企画の中に未知の開発が含まれている場合だ。例えばOOOというサードパーティのSDKを使ったBotシステムを作りたいんだけどもこれ作るのにどれくらいかかりますか？といった具合である。\r\n\r\nOOOというサードパーティのSDKに関して過去に利用した経験がなく触ってみないとわからないパターン。その際はこのSDKはまだ使ったことがないのではっきりとどのくらいとは言いづらいので少し調査してからの回答でもいいですか？と聞くものの、企画者は何やら急ぎで回答がほしいようだ。そこでざっくりとでいいのでどのくらいか分かりませんかね？と言ってくる。仕方ないので未確定の要素を多めに勘案して多めの見積もりをいう。というこの一連のやり取りでイラッとしてしまう。\r\n\r\n企画者の中にはエンジニアは技術に関して全てを把握しているかのように考えている人がいる。そんな人間がいるなら教えてほしい。自分の専門に関することならつゆ知れず、大抵ははっきりと決断しきれない技術的概念の方が多いので常に調査しながら開発している人の方が多いはずだ。\r\n\r\nこうやって少し言語化してみると、「こんな簡単そうな開発にもこんな時間がかかるのかよ」とか「OOに関する知識ないんだ」とか **お前スキル不足なのでは？と暗に突きつけられてしまうような物言い** にイラッとしてしまうのだなとわかった。\r\n\r\nもちろん相手にそんな気はないと思うしそれぞれの都合があると思うから仕方ないとは理解してるのでこういう企画者滅ぶべしとかは全然思ってないです。あくまでも自分の気持ちを噛み砕いて整理したいという意図で書いている。\r\n","bodyHTML":"<p>「作るのにどれくらいかかりますか？」と訊かれるとイラッとしてしまうことがある。そうなってしまう理由についてある程度自分の中で言語化しておきたい。</p>\n<p>そういう訊かれ方をする状況は大抵小規模なMTGで何かのプロジェクトの企画段階で起きる。OOなユーザー向けにXXという機能を追加しようかと思っているんですが、これ作るのにどれくらいかかりますか？といった具合だ。</p>\n<p>こういった質問が飛んでくる場合は決まって企画側で未確定の要素が多い。こちらとしては未確定の要素があると曖昧の見積りしかできないし、当然不測の事態を想定して多めにバッファを含めた回答になる。そうすると(おそらく)想定よりも長めの期間の見積りを返された企画者は開発にそんなに掛かるのか...と不満げな様子になってしまう。こちらは困らせたくて長めに見積もりを出しているわけではないのに開発にそんなに掛かるのか...という雰囲気を出されると開発者としての力量を疑われているように感じてしまってイラッとしてしまう。</p>\n<p>その他のパターンとしては企画の中に未知の開発が含まれている場合だ。例えばOOOというサードパーティのSDKを使ったBotシステムを作りたいんだけどもこれ作るのにどれくらいかかりますか？といった具合である。</p>\n<p>OOOというサードパーティのSDKに関して過去に利用した経験がなく触ってみないとわからないパターン。その際はこのSDKはまだ使ったことがないのではっきりとどのくらいとは言いづらいので少し調査してからの回答でもいいですか？と聞くものの、企画者は何やら急ぎで回答がほしいようだ。そこでざっくりとでいいのでどのくらいか分かりませんかね？と言ってくる。仕方ないので未確定の要素を多めに勘案して多めの見積もりをいう。というこの一連のやり取りでイラッとしてしまう。</p>\n<p>企画者の中にはエンジニアは技術に関して全てを把握しているかのように考えている人がいる。そんな人間がいるなら教えてほしい。自分の専門に関することならつゆ知れず、大抵ははっきりと決断しきれない技術的概念の方が多いので常に調査しながら開発している人の方が多いはずだ。</p>\n<p>こうやって少し言語化してみると、「こんな簡単そうな開発にもこんな時間がかかるのかよ」とか「OOに関する知識ないんだ」とか <strong>お前スキル不足なのでは？と暗に突きつけられてしまうような物言い</strong> にイラッとしてしまうのだなとわかった。</p>\n<p>もちろん相手にそんな気はないと思うしそれぞれの都合があると思うから仕方ないとは理解してるのでこういう企画者滅ぶべしとかは全然思ってないです。あくまでも自分の気持ちを噛み砕いて整理したいという意図で書いている。</p>","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7/comments","created_at":"2022-06-09T12:59:25Z","events_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7/events","html_url":"https://github.com/YuheiNakasaka/gialog-diary/issues/7","id":1266095246,"labels":[],"labels_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHaM3jc5LdxSO","number":7,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7/reactions"},"repository_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7/timeline","title":"「作るのにどれくらいかかりますか？」と訊かれるとイラッとしてしまう","updated_at":"2022-06-09T12:59:25Z","url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7","user":{"avatar_url":"https://avatars.githubusercontent.com/u/1421093?v=4","events_url":"https://api.github.com/users/YuheiNakasaka/events{/privacy}","followers_url":"https://api.github.com/users/YuheiNakasaka/followers","following_url":"https://api.github.com/users/YuheiNakasaka/following{/other_user}","gists_url":"https://api.github.com/users/YuheiNakasaka/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/YuheiNakasaka","id":1421093,"login":"YuheiNakasaka","node_id":"MDQ6VXNlcjE0MjEwOTM=","organizations_url":"https://api.github.com/users/YuheiNakasaka/orgs","received_events_url":"https://api.github.com/users/YuheiNakasaka/received_events","repos_url":"https://api.github.com/users/YuheiNakasaka/repos","site_admin":false,"starred_url":"https://api.github.com/users/YuheiNakasaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuheiNakasaka/subscriptions","type":"User","url":"https://api.github.com/users/YuheiNakasaka"}},"issueComments":[],"pickupArticles":[{"body":"たまに転職する際の企業の選び方について聞かれることがある。自分は転職を大して経験してるわけではないから具体的なアドバイスはできないだけどとりあえず**自分なりの**企業の見方について少し話すことにしてる。\r\n\r\nそれはあらゆるものを資本と資産と収益の関係でみるということだ。\r\n\r\nといっても別に財務諸表を読むスキルをつけろと言っているわけではなく(あれば良いに越したことはない)、企業というシステムがどういうロジックで動いていて、組織やそこで働く人々が何をやっているかの大雑把な流れを把握するという話である。\r\n\r\n# 資本を得る・資産を作る・収益を得る\r\nまず企業の生産活動というのが何をやっているか？という大雑把な流れを整理すると下記に集約できる。\r\n\r\n- 資本を得る\r\n- 資産を作る\r\n- 収益を得る\r\n\r\n基本的にはこの３つを回しているだけだ。\r\n\r\n例えば銀行からお金を借りて(資本を得る)、商品を作り(資産を作る)、販売して対価をもらう(収益を得る)といった具合。\r\n\r\n資本を得るについては借入やVCや市場からの調達や得た収益が資本になったりする。\r\n資産を作るについては製品を作ったりサービスを作ったりすることがそれにあたる。\r\n収益を得るについては資産を活用してそれを金に変える部分のことだ。\r\n\r\n資本を得る→資産を作る→収益を得るという各フェーズの中で営業やマーケティングや開発/生産や経理やらなんやらといった職務の人がおり、彼らがそれぞれの役割で働くことで会社が回っていく。結果的に業績が上がったり下がったりという具合になるわけだ。\r\n\r\n# 転職に生かす\r\nで、この企業の見方を前提にして転職に際しては自分がどの役割を担うことになるのか？ということを考える。\r\n\r\n例えば自分の場合ならソフトウェアエンジニアなのでほぼ「資産を作る」というフェーズに従事することになるとわかる。だから企業を選ぶ際は、どういう資産(サービスや製品)を作っているか、資産(サービスや製品)の成熟度はどの程度か、どういう体制で資産(サービスや製品)を作っているのか、将来の(資産的な)展望を最初に見る。\r\n\r\nまぁこれは誰でもやると思うが、しかしこれだけでは不十分で、一番大事なのは**その資産がどうやって収益を産んでいるのか**まで見ることだ。なぜなら資産が収益を産む構造が乏しい場合は資本が減り資産を作ることに投資する原資が減るから結果として、開発全体への体験が悪くなるし給与も上がらなくなるから。\r\n\r\nなので一般的にエンジニアとして良いDXと良い給与を得たいなら資産が収益を生み出す構造が強固な会社を選ぶ方が良い転職になりやすいと思う。\r\n\r\nといった感じで資本と資産と収益の観点で企業活動を見ると、自分が企業活動のどこを担い、それがその活動にどれほど寄与できるか理解しやすいし、その寄与が回り回ってDXや給与へどれほどつながりそうかというところまで意識できるようになる。\r\n\r\n# 業務に生かす\r\n資本を得る→資産を作る→収益を得るという考え方は普段の業務にも当てはめられる。例えばエンジニアの生産活動は企業全体で見ると資産を作る部分にあたるが、この資産を作る部分のエンジニアチームとしての生産活動をさらに分解して、資本を得る→資産を作る→収益を得るという構造にマッピングしてみる。\r\n\r\n- 資本を得る→ 人材(スキル)・時間を得る\r\n- 資産を作る→ 開発\r\n- 収益を得る→ リリースと運用\r\n\r\n少々強引だけど無理矢理マッピングしてみるとこんな感じになるはず。\r\n\r\nで仮に自分の役職がインフラエンジニアであれば収益を得るの部分が責任範囲になるし、フロントエンド/サーバーサイドエンジニアであれば資産を作る部分が責任範囲になる、といった具合に考えることができる。\r\n\r\n各人はその責任範囲における生産活動を行い、またその責任範囲の中で生産性を向上させられることであれば基本なんでもやっていく道理はあるはずだ。もし新しい言語やフレームワークの導入や技術的負債の返済をしたいとなった時に、この観点で自分の立ち位置を理解できていれば、自分の責任範囲の生産性をどれほど向上させそれが組織にどういう寄与をするかを説明しやすくなる。結果として上司への提言にも説得力が出るので受け入れやすくなると思う。\r\n\r\nここでも大事なのは**資産を作る→収益を得る**の部分。どんなに開発を頑張ってもリリースされて安定運用に乗らなければ意味がない。金をドブに捨てているのと同じことになる。という意味ではデプロイ頻度が向上する仕組みづくりが重要で近年CI/CDの仕組みの重要性やSREが取り沙汰されるのはこの資産を作る→収益を得るの間の生産性を向上させる役割を担うためだと思う。\r\n\r\nこうした資本を得る→資産を作る→収益を得るという構造は、エンジニアの生産活動に対してもマッピングできたように他の役職でも多分できるはずで、各種部門内における資本を得る→資産を作る→収益を得るという構造のリソースを調整していく仕事がいわゆるCXOという役職だ。もちろんだけどCTOは会社全体の資本を得る→資産を作る→収益を得るという構造を調整している。\r\n\r\n# 人生の場合\r\n資本を得る→資産を作る→収益を得るという構造は日々の生活にも見出すことができる。無理矢理マッピングするとこんな感じか。\r\n\r\n- 資本を得る→ 金・時間を得る\r\n- 資産を作る→ 買い物をする・遊ぶ・勉強する\r\n- 収益を得る→ 金を得る\r\n\r\n労働者であれば、働いて金を得て、その金を使って何かを買ったり遊んだり勉強したりして自分という資産を豊かにして、それを労働力として使い金を稼いで...という感じ。もし株式や不動産を買ってそこから収益を得られるなら、収益を得る手段が資産それ自体になったりする。いわゆる不労所得。\r\n\r\nちなみにピエール・ブルデューの文化資本は資産を作る部分の資産の初期値パラメータになりそう。\r\n\r\nまぁ人生は大体こんな感じだと思う。\r\n\r\nここでも重要なのは**資産を作る→収益を得る**の部分でどんなに勉強しても収益に繋げる仕組みがないなら金は得られない。自分という資産が収益を産み出すためのの生産性というものを考えるなら、資産を作る部分に力を入れるのと同じだけそこから収益を得る部分にも力を入れないといけない。\r\n\r\nとはいえ人生が他の生産活動と違うのは別にそんな生産性なんて考えなくても良いことだ。企業活動では無理だけど人生なら自分が満足すれば何も産まなくても別にいいし生産性なんて考えなくても良い。\r\n\r\n資本を得る→資産を作る→収益を得るという構造は人生にも見出すことはできるけど、それに意味があるのかどうかは疑問ではある。\r\n\r\n# 最後に\r\n資本・資産・収益の構造で身の回りの生産活動を見渡してみると、割と何にでも当てはめることができるとわかる。が、そのマッピングに意味があるかは別問題だ。\r\n\r\nせいぜい暇人の思考実験にはなるのでこの3連休が暇でどうしようもない人にはちょうど良いかもしれない。","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/23/comments","created_at":"2022-09-23T03:42:08Z","events_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/23/events","html_url":"https://github.com/YuheiNakasaka/gialog-diary/issues/23","id":1383255736,"labels":[],"labels_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/23/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHaM3jc5Scs64","number":23,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/23/reactions"},"repository_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/23/timeline","title":"あらゆるものを資本と資産と収益の関係でみる","updated_at":"2022-09-23T03:42:08Z","url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/23","user":{"avatar_url":"https://avatars.githubusercontent.com/u/1421093?v=4","events_url":"https://api.github.com/users/YuheiNakasaka/events{/privacy}","followers_url":"https://api.github.com/users/YuheiNakasaka/followers","following_url":"https://api.github.com/users/YuheiNakasaka/following{/other_user}","gists_url":"https://api.github.com/users/YuheiNakasaka/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/YuheiNakasaka","id":1421093,"login":"YuheiNakasaka","node_id":"MDQ6VXNlcjE0MjEwOTM=","organizations_url":"https://api.github.com/users/YuheiNakasaka/orgs","received_events_url":"https://api.github.com/users/YuheiNakasaka/received_events","repos_url":"https://api.github.com/users/YuheiNakasaka/repos","site_admin":false,"starred_url":"https://api.github.com/users/YuheiNakasaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuheiNakasaka/subscriptions","type":"User","url":"https://api.github.com/users/YuheiNakasaka"}},{"body":"[研鑽Rubyプログラミング 実践的なコードのための原則とトレードオフ](https://amzn.to/3Vfsqra)を読んだ。モチベーションとしては最近Rubyistの間でよく話題にされていたので気になったというミーハーな気持ちと、仕事でよく書くのはRuby(というかRailsでアプリ開発するのが多い)ので何か得られたらラッキーくらいな気持ち半々。\r\n\r\nどんな本かについては他の著名なRubyistの方々が色々と書いておられるのでそちらを読む方が良いかもしれない。例えば[「研鑽Rubyプログラミング」はライブラリ作者の知識・技術の幅と深さを拡大する1冊](https://tagomoris.hatenablog.com/entry/2023/04/19/123501)とかTechRachoの[\r\n『研鑽Rubyプログラミング』は英語版を買った人も買うべき](https://techracho.bpsinc.jp/hachi8833/2023_04_19/129409)とか。\r\n\r\nまたこの本を一言で表した文章としてあとがきから引用すると下記が端的。\r\n>Rubyコミュニティのリーダーをして「完璧超人か」と言わしめるような優れたプログラマーが、「読者が『すでにRubyをよく知っている』ことを前提」として、「Rubyプログラミングの原則と、実装方針を決めるにあたって考慮すべきトレードオフ」を伝えるために執筆されています\r\n\r\nこのような本なのでいわゆる初心者(シンタックスを覚え、ライブラリやアプリケーションの構築方法をやっと覚えたくらいの人たち)には結構ハードな内容かもしれない。一方で自分のような仕事でRubyを書きRailsを使い...といった日々を過ごす中級者くらいの人にとっては全17章のうちどの章からも示唆深い考え方や概念や手法を得られると思う。\r\n\r\nコードを書く時に、Webアプリケーション開発にせよライブラリ開発にせよ、中級者以上になるとプログラマーは常に何かしらの決断を下しながらコードを書いていると思う。どういう設計にするか？どのアルゴリズムを使うか？メソッド名はどうするか？等々の大なり小なりの判断が常に求められる。その時に最良の決断をするために必要なのは「**複数の選択肢を持ち、適切に選択できる力**」だ。これは業務やOSSなどで他人のコードをある程度読み書きする経験を積む過程で自然と醸成されていくことが多いと思うが、この本ではそうした力を得るための指標やコツを惜しみなく書き記してくれているので今までは時間をかけて経験的に学んでいくであろう内容を高速道路的に得られる。\r\n\r\n先んじてレビューを書いてくださっているRubyistの方々もブログの中で書いてあるとおり、こんな書き方ええんか...(例えばデフォルト引数のところの書き方とか)みたいな議論が必要そうなものもある。しかしそれを採用するかしないかに関わらずとりえる選択肢の一つとして頭の片隅に置いておくことは重要であると思う。仕事などで実際に直面する課題に対して、最良の答えを出すためには大抵いくつかの方法があり、それらにはどれも互いにトレードオフが存在し、我々は何かしらの根拠を持って決断する必要がある。その時に一つしか倒し方を知らない人よりも幾つも倒し方を知っている中で最良なものを選択できる人の方がより多くのパターンを考慮できており信頼できる。信頼できる開発者になるためにはともすると無駄かもしれない知識も持っておいた方が良い。\r\n\r\n第一部はRubyの基本的な機能に関する原則とトレードオフについて書かれている。この部では各章で自分のRubyに対する理解力がはっきりとわかる。Rubyは書き手にフレンドリーで何となくでも良い感じに書けてしまうから細かい仕様に関して甘い人も多いと思うが、割とそういう人は取りこぼしている知識などがちょくちょくあって学びがある(特に引数のところとかめちゃくちゃ解説が詳しい)。\r\n\r\n第二部は主にライブラリを書く人向けの話題が中心のような雰囲気だが、何かしらのgemの作者でなくともコードの設計や拡張、リファクタリングやテスト、最適化についての話は一般的な話題なのでアプリ開発してるだけの人でも自分なりのツッコミを入れながら楽しめる感じだった。メタプログラミングについては[メタプログラミングRuby](https://amzn.to/412T1ZP)を読んだ方がいいし、リファクタリングについては[リファクタリング:Rubyエディション](https://amzn.to/3pbzTeS)を読んだ方が良いとは思う。デザインパターンだと[このサイト](https://refactoring.guru/ja/design-patterns/ruby)とかが良さそう。\r\n\r\n第三部はウェブプログラミングに関する話。ここは流石にRubyというコンテキストだけで語るには薄くならざるを得ない気がしていて、実際DBと簡単なアーキテクチャとセキュリティの話くらいしかない。多分Rubyでウェブ開発する人の多くはRails開発者だと思うので最近だと[Sustainable Web Development with Ruby on Rails](https://amzn.to/3VxI1T2)あたりが思想は独特だが面白いのでおすすめ(だいぶ好き嫌い分かれる内容だとは思う...)。その時の感想は[Sustainable Web Development with Ruby on Railsと悲しい性](https://yuheinakasaka.github.io/gialog-diary/articles/3)に書いた。\r\n\r\nとまぁこんな感じで、全体通して個人的には第一部がクライマックスで、第二部は14章のプロファイリングとベンチマーク全般の記述と図書館に呪いの本を実装するギャグみたいなプラグインを書いていく8章の話が面白かったという感想。\r\n\r\n誰彼構わず万人に薦めるのはどうか？という気もするが、中級レベルの開発者がこういう考え方もあるよな〜とクリティカルに読みつつ見識深めていくのが良い読み方なのかなと思った。\r\n\r\n先にもあげたレビューを読んだり、[研鑽Rubyプログラミング](https://scrapbox.io/kensan-ruby/)という日本語サポートページがScrapboxにあるのでこちらを見たりしながら、一つでも気になる部分があれば手に取ってみるといいんじゃないでしょうか。","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/43/comments","created_at":"2023-05-05T12:25:27Z","events_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/43/events","html_url":"https://github.com/YuheiNakasaka/gialog-diary/issues/43","id":1697533206,"labels":[],"labels_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/43/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHaM3jc5lLk0W","number":43,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/43/reactions"},"repository_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/43/timeline","title":"『研鑽Rubyプログラミング』を読んだ","updated_at":"2023-05-05T12:25:27Z","url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/43","user":{"avatar_url":"https://avatars.githubusercontent.com/u/1421093?v=4","events_url":"https://api.github.com/users/YuheiNakasaka/events{/privacy}","followers_url":"https://api.github.com/users/YuheiNakasaka/followers","following_url":"https://api.github.com/users/YuheiNakasaka/following{/other_user}","gists_url":"https://api.github.com/users/YuheiNakasaka/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/YuheiNakasaka","id":1421093,"login":"YuheiNakasaka","node_id":"MDQ6VXNlcjE0MjEwOTM=","organizations_url":"https://api.github.com/users/YuheiNakasaka/orgs","received_events_url":"https://api.github.com/users/YuheiNakasaka/received_events","repos_url":"https://api.github.com/users/YuheiNakasaka/repos","site_admin":false,"starred_url":"https://api.github.com/users/YuheiNakasaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuheiNakasaka/subscriptions","type":"User","url":"https://api.github.com/users/YuheiNakasaka"}},{"body":"※**専門家ではないので、以下の文章はn=1の経験談として読んでください。**\r\n\r\n[腰痛エンジニアを支える技術](https://zenn.dev/ryo_kawamata/articles/a596e3325ba865)や[手が痺れるエンジニアを支える技術](https://zenn.dev/seya/articles/35cd238d79b6e0)を読んだ。\r\n\r\n上の記事の腰痛や神経痛をはじめ、肩こり・頭痛・神経痛・腹痛など**すぐに死ぬわけではないがQoLに結構な支障をきたす慢性の疾患**を抱えたエンジニアというのは回りを見渡しても割と多いと感じる。自分の場合はそれが**痔**である。\r\n\r\n下痢や便秘の際に切れ痔になった経験があるという人は結構多い。だから「あー痔か、自分もなったことあるよ」みたいな軽い反応をもらうのだけどそういう人の痔は一過性のもので、いわば転んで擦りむいたくらいのレベル。\r\n\r\n自分の場合は慢性的な外痔核である。外痔核とは何かという説明をする前にそもそも痔にはいくつか種類があるので簡単に説明しておく。\r\n\r\n# 痔の種類\r\n## 裂肛\r\nいわゆる切れ痔である。便秘で便が固くなってしまった場合や下痢でゆるくなり便の排出速度が上がり切れてしまうなどが主な原因。通常は一般的な切り傷同様数日で直るが、何度も繰り返していると潰瘍ができたり傷が直る際に肛門が狭くなっていく肛門狭窄という状態になる。この段階までくると排便時は毎回切れ痔が起きるようになってしまう。\r\n\r\n## 痔核\r\nいわゆるいぼ痔である。肛門に強い力がかかるとうっ血が発生し、手に血豆ができるような感じでイボができる。日常生活における肛門に負荷をかかる全ての場面で発生する可能性がある。痔核の中でも肛門の中にできる内痔核と外痔核がありそれぞれ症状や対処法は異なる。\r\n\r\n### 内痔核\r\n内痔核は肛門の中にイボができるタイプの痔核である。段階がレベル1~4まであり1~2ではそれほど生活に支障はないが3~4レベルになると手術が推奨される。1~2レベルの内側の痔は排便時に血は出たりイボが露出したりするが痛みはそれほどないが、それ以上のレベルになると下着に鮮血が見られるような状態になる。ここまでくると手術だ。\r\n\r\n### 外痔核\r\n外痔核は肛門の外にイボができるタイプの痔核である。この痔の特徴はなんと言っても**とにかく痛いこと**である。肛門の中とは違い、肛門の外側は神経が集中しているのでイボに何かが触れると激痛が走る。強めの口内炎が肛門にできたと想像してほしい。排便時に100%の確率でそれが刺激されるのでどう頑張っても痛みから逃れられない。排便はほぼ毎日あるので毎日の排便が恐怖になる。\r\n\r\n### 痔ろう\r\n肛門内部が炎症を起こし化膿、その膿を排出するための膿の管が肛門に残った状態のこと。激しい痛みや発熱を伴う。どの段階であれ、痔ろうとなればほぼ手術になる。\r\n\r\n# 対処法\r\n痔ろう以外はどの痔の場合も酷くない場合は基本的に保存療法か外来処置(飲み薬や塗り薬など)で済むはず。一方で慢性化している場合は手術となることが多い。最悪の場合は人工肛門になることもあるし、そもそも大腸などに腫瘍があったりして別の病気の場合もある。\r\n\r\nとにかく早めの受診によりあらゆる悲劇は避けられるので自分で判断せず早めに近くの肛門科へ行くのが最適解だ。\r\n\r\n# 自分の話\r\nここまでは痔の一般的な話だが、ここからは自分の経験の話をする。\r\n\r\n先述した通り自分の場合は外痔核だった。月に数回、肛門に力を入れた瞬間激痛が走る日が来て、それを境に1~2週間ほどは毎日排便時にお尻を針で刺されたような感じになる。辛いは辛いのだけど、とはいえこれは日常生活の工夫により少し快方することもあるのでのらりくらりと病院へ行かず10年ほど経ってしまっていた。\r\n\r\nいよいよ厳しいな...と感じてきて病院へ。そこでレベル2程度の外痔核とレベル1程度の内痔核と診断された。内側の痔に関しては病院で検査を受けて発覚したくらいのレベルで自覚もなかった程度。出血もない。\r\n\r\nただどうしても外痔核が辛いなら痔核の部分を切開して取る、内痔核なら内痔核硬化療法(ジオン注射)を勧められたが、まだ必須というほどでもないという。様子見でも今は大丈夫とのことだったので一旦は保留にして1年ほど時間が経ち、今に至るという感じ。\r\n\r\nなのでいまだに痔と共に生きるという生活をしている。(余談だが先生自体も痔持ちで、数年前に手術したが時間が経ってまた痔になっちゃった...と言ってて大変そうだった)。\r\n\r\n診察の中で、そもそも自分は何故外痔核ができやすいのか？を先生といろいろ振り返りながら話してみて気づいたのは**排便時のいきみの強さ**である。\r\n\r\n体質や食生活の問題で固い便になりやすかったこと、元々スポーツをやっていてある程度筋肉があったこと、決まった時間に必ず排便しようとすること、などが重なったことで、必要以上に強くいきんで硬めの便を無理してでも排出しようという習慣ができてしまっていた。これは幼い頃からの習慣だが誰にも注意されなかったし、自分でも悪いことだと気づかなかった。なんか気づかずにやっていた悪習が自然と痔を招いてしまっていたのだ。\r\n\r\n# 痔を悪化させないためにやってること\r\n以下は主に痔核を悪化させないためにやっていることを書く。\r\n\r\n## 肛門に力をかけない\r\n外痔核に関してはとにかく肛門に過度な力をかけないことが一番重要。なので排便時は無理して出すために腹筋に力を入れたりしない。ちゃんと便意を待て。腹筋に力を入れたりしなくても便は出る。すぐ出ないからといって急がない。\r\n\r\nその他にもスクワットなどの筋トレで踏ん張る時や重いものを持つ時なども肛門に力がかかり続けないように気を付ける。肛門への負荷を気をつけるだけでもかなり良くなる。\r\n\r\n肛門に力をかけずに直腸から便を送り出すような意識で排便する訓練(ヨガに近い)もやっていて、これはコツが掴めるととても楽に排便ができるようになる。言葉では上手く伝えられないが、これができないと手術してもまた下手くそな排便により痔が再発する。排便のフォーム矯正と思ってやった。\r\n\r\n## 水分を十分に摂る\r\n固い便になるとどうしても排便に力が必要になってしまう。これを防ぐために水分は十分に摂った方が安全。\r\n\r\n自分の場合は500mlのタンブラーでぬるま湯を最低3杯~4杯は飲むようにしている。しかもこまめに摂るようにしている。これはがぶ飲みしても人間が一度に吸収できる量には限界があるので。ただしトイレの頻度が多くなってしまうのでなかなか難しいという人もいるかも。\r\n\r\n## 食事\r\n食事に関しては人それぞれだろうなという感じ。よく言われるのは3食バランスよくしっかり食べる方が良いくらいな感じで、特に野菜がいいとか発酵食品がいいみたいなものはない。\r\n\r\nが、自分がいろいろ試してみた結果だけ参考までに書いておく。これが正解!とかいうものはない。\r\n\r\n- 飯を食べる前にまず多めに水を飲む\r\n  - 飲む場合と飲まない場合で翌日の便の硬さが変わるっぽい\r\n- お米を最低1合は食べる\r\n  - 米を食べる量が少ないと排便サイクルが狂う。便も何故か硬くなる。\r\n- 納豆・ヨーグルト・キムチを毎日適度に摂る\r\n  - 腸がよく動いてるな〜と感じるようになる。便秘予防にはなりそう。単純に発酵食品が好きというのもあるので楽しみ半分で続けている。\r\n- アルコールを摂取しない\r\n  - 酒を飲むと翌日の便が硬くなるっぽかったのでやめた。\r\n- 寝る3時間前までに食事は済ませる\r\n  - 寝る前まで何か食べてると翌日変なタイミングで便意がきたりするようになる。変なタイミングだと都合によっては我慢しないといけないことにもなりかねない。我慢すると便が固くなっていく原因になるのでなるべく避けている。\r\n\r\n食事に関してはこれくらい。あとは外食などでも好きなものを好きなように食っている。\r\n\r\n## 睡眠\r\n夜更かしすればするほど内臓の調子がおかしくなる。大抵排便サイクルが狂うし便がいつもと違う感じになる。そもそも一般的に考えても寝るべき時間に寝た方が内臓や神経系にも良いはずなので無理せず寝ている。\r\n\r\n## 毎日湯船に浸かる\r\n下半身の冷えは血流を悪くして痔ができやすくなる元なので毎日湯船に浸かるようになった。これは病院の先生にも勧められたのでやっている。それまでは湯船を洗うのも湯を準備するのもとにかく面倒だからシャワーで済ませることが多かったが今は毎日湯船で体の芯まで温めるようになった。\r\n\r\n痔が辛い時も温かいお湯に使っていると血行が良くなり、いくらか治りが早くなるので痔持ちの人は全員湯船に浸かった方が良い。\r\n\r\n## 座り続けない、またはスタンディングデスク\r\n上記の生活習慣的な対策は前提として、それ以外にできることとして座りすぎないようにするというのがある。エンジニアは職業柄椅子に座り続けがちだが、それは上述の「肛門に負荷をかける」につながるので良くない。\r\n\r\n自分は適当に60分おきにiPhoneでタイマーをセットして時間が来たら立ち上がり少しフラフラしてまた座る、といった習慣で作業していた。これはこれで良い。\r\n\r\nが、外痔核真っ只中の時はとにかく座ってるだけで痛いことがある。そういう時は立っていた方が楽。なのでそういう時はスタンディングデスクで作業している。\r\n\r\n[電動昇降デスク](https://flexispot.jp/e7-set.html)というスタンディングデスク専用の机があったりするので検討はしたがちょっと試してみるか〜と買うには高いしデカい。要らなくなった時の処理が面倒。\r\n\r\nそこで自宅にあったデスクとちゃぶ台で下のようなハリボテスタンディングデスクを作って使っている(もうかれこれ半年以上これで仕事してる)。\r\n\r\n![https://user-images.githubusercontent.com/1421093/180774838-28eb541b-9d6b-4b9b-8998-92d54f935d7a.JPG](https://user-images.githubusercontent.com/1421093/180774838-28eb541b-9d6b-4b9b-8998-92d54f935d7a.JPG)\r\n\r\nポイントは下のクッション部分。これ無しで床に立って作業するとすぐ足の裏が痛くて終わる。たまたま普段使いしていた座椅子がちょうど良い高さだったのでこれでなんとかやれている。\r\n\r\n座椅子が微妙という時は[リカバリーサンダル](https://amzn.to/3RCOp9I)というのをスリッパがわりにして履いて作業するのも良かった。看護師さんなど長時間立ち仕事をしてる人たちが履いているらしい。\r\n\r\n![IMG_3954_res](https://user-images.githubusercontent.com/1421093/216818045-1deb3b26-24a0-4db1-a26c-018cc15a6d42.JPG)\r\n\r\n基本的に1時間~２時間くらい立ち続けて、少し座って休んで、みたいな感じで1日仕事をしている。最初のうちは30分も作業してるとキツくなってくるがこれは慣れ。続けてれば慣れてくる。\r\n\r\n座らなくなることでお尻への負荷だけでなく腰への負荷も体感的に減ってる。**変な姿勢で座るより変な姿勢で立つ方が難しい**ので姿勢の維持の観点では個人的には立ってる方が楽だ。\r\n\r\nただし立ち続けると足が痛くなってくるのでそれは適度に休みを入れるしかない。あと、デスクの高さの設定をミスると肩が凝る。高さの微調整を細かくやりたいなら先程の挙げたちゃんとした電動昇降デスクを買った方が良さそう。\r\n\r\n# 現在\r\n病院に通って以降色々やったのもあって、最近はもう少なくとも3~4ヶ月は外痔核で苦しんでいない。上記の悪化させないための諸々を今後も続けていく必要はありそうだけど、基本的には硬い便を避けつつ排便時に気をつけることさえできればあとはなんとかなりそう。\r\n\r\nまた以前のような厳しい状態になったら本格的に手術を検討してみようかねとも先生とは話している。とはいえ手術せずになんとか終えられたら良いな…という感じ。内痔核の手術なら術後の痛みは少なめだからすぐやってもいいけど、外痔核の術後は出産を経験した人でも辛かったと聞いたのでめちゃくちゃ怖いのが正直なところ...。\r\n\r\nとはいえ痔核は痔の中でも手術すれば治る病気の一つなので、金と時間と気合いさえあればなんとかできる(はず)。色々めんどくさい人は(痔核なら)手術するのが多分早いんだろう。\r\n\r\n# おわりに\r\n痔の\"エンジニア\"を支える技術と題して書き始めたがエンジニア的な要素はスタンディングデスクくらいで、その他は痔一般の知識と痔主の経験談になってしまったので申し訳ない(のでZennではなく自分のブログに書いた)。\r\n\r\n排便は食事と同じくほぼ避けることができないし肛門以外の場所で代替することもできない。肛門はとてもクリティカルな場所だからこそ健康に保つための最低限の知識は全員持っておいて損はない。\r\n\r\n痔は身近な病気であり軽んじられがちだが、悪化させるとQoLが駄々下がりするはめになる。[何年も痔に苦しんでいる - 怠惰を求めて勤勉に行き着く](https://fushiroyama.hatenablog.com/entry/2022/11/20/063019)では慢性的な切れ痔に悩まされているエンジニアの話が書いてある。痔核の場合は手術(と術後の結構な痛み)を耐えられればある程度の期間は良くなるようだが悪化した切れ痔の場合はより大変そうだ。痔ろうに関しては言わずもがな。\r\n\r\n痔に関してはどの状況でもとりあえず病院に行くのがいつでも最適解なので気になったら恥ずかしがらずにすぐ行け。\r\n\r\n# リンク\r\n- [痔の総合情報サイト《痔-web》](https://www.iwadare.jp/G-WEB/)\r\n  - 痔主の聖典","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/40/comments","created_at":"2023-02-05T13:12:02Z","events_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/40/events","html_url":"https://github.com/YuheiNakasaka/gialog-diary/issues/40","id":1571425666,"labels":[],"labels_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/40/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHaM3jc5dqg2C","number":40,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/40/reactions"},"repository_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/40/timeline","title":"痔のエンジニアを支える技術","updated_at":"2023-02-05T15:05:46Z","url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/40","user":{"avatar_url":"https://avatars.githubusercontent.com/u/1421093?v=4","events_url":"https://api.github.com/users/YuheiNakasaka/events{/privacy}","followers_url":"https://api.github.com/users/YuheiNakasaka/followers","following_url":"https://api.github.com/users/YuheiNakasaka/following{/other_user}","gists_url":"https://api.github.com/users/YuheiNakasaka/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/YuheiNakasaka","id":1421093,"login":"YuheiNakasaka","node_id":"MDQ6VXNlcjE0MjEwOTM=","organizations_url":"https://api.github.com/users/YuheiNakasaka/orgs","received_events_url":"https://api.github.com/users/YuheiNakasaka/received_events","repos_url":"https://api.github.com/users/YuheiNakasaka/repos","site_admin":false,"starred_url":"https://api.github.com/users/YuheiNakasaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuheiNakasaka/subscriptions","type":"User","url":"https://api.github.com/users/YuheiNakasaka"}}]},"__N_SSG":true}