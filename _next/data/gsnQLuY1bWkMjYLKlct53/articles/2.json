{"pageProps":{"issue":{"body":"昨日gialogで作ったブログを少しカスタマイズした。\r\n\r\n具体的にはOGPの設定やTwitterボタンの設置。\r\n\r\n最初GitHubのAPIにそんなに詳しくないからYAML front-matterでIssueから渡ってくるレスポンスの種類にどんなものがあるのかわからなかった。とりあえずはGitHubの[APIリファレンス](https://docs.github.com/ja/rest/issues/issues)を読むと大体解決した。\r\n\r\nOGPの画像は記事内を正規表現で走査して最初に登場する画像を設定するようにしている。`/\\((http[s]*.+\\.(?:png|jpg|jpeg|gif))?\\)/i`みたいなやつを使っているが、後方参照のキャプチャしないやつの書き方を思い出せなくてちょっと迷った。今回はキャプチャされてもいいんだけど、気分的に無駄なキャプチャは嫌である。グローバルな一致とかだとパフォーマンス問題が起きたりするなど[詳説 正規表現](https://amzn.to/3NaYcAs)に書いてた気もするから避けられるなら避けた方が良さげ。\r\n\r\nあとちょっと困ってるのはOGP画像が仕様を超える解像度だった場合にTwitter Cardでうまく表示されない問題がある。これはどう対応したものかちょっと考えているところ。\r\n\r\nそれと雑でもいいので検索を設置したくてGoogle検索へのリンクを配置したがまだインデックスされていないから機能しない。時間が解決するのかなこれ。。\r\n\r\n\r\n最後にOGPのテスト。先日[和処黒木](https://twitter.com/kurokijiro)に行った時に八木メシでお馴染みの八木栞FSKと撮った牛しぐれうどんでも載せておく。\r\n![IMG_2962](https://user-images.githubusercontent.com/1421093/170851081-73034fa3-91c3-43be-94db-dcc08b642156.JPG)","bodyHTML":"<p>昨日gialogで作ったブログを少しカスタマイズした。</p>\n<p>具体的にはOGPの設定やTwitterボタンの設置。</p>\n<p>最初GitHubのAPIにそんなに詳しくないからYAML front-matterでIssueから渡ってくるレスポンスの種類にどんなものがあるのかわからなかった。とりあえずはGitHubの<a href=\"https://docs.github.com/ja/rest/issues/issues\">APIリファレンス</a>を読むと大体解決した。</p>\n<p>OGPの画像は記事内を正規表現で走査して最初に登場する画像を設定するようにしている。<code>/\\((http[s]*.+\\.(?:png|jpg|jpeg|gif))?\\)/i</code>みたいなやつを使っているが、後方参照のキャプチャしないやつの書き方を思い出せなくてちょっと迷った。今回はキャプチャされてもいいんだけど、気分的に無駄なキャプチャは嫌である。グローバルな一致とかだとパフォーマンス問題が起きたりするなど<a href=\"https://amzn.to/3NaYcAs\">詳説 正規表現</a>に書いてた気もするから避けられるなら避けた方が良さげ。</p>\n<p>あとちょっと困ってるのはOGP画像が仕様を超える解像度だった場合にTwitter Cardでうまく表示されない問題がある。これはどう対応したものかちょっと考えているところ。</p>\n<p>それと雑でもいいので検索を設置したくてGoogle検索へのリンクを配置したがまだインデックスされていないから機能しない。時間が解決するのかなこれ。。</p>\n<p>最後にOGPのテスト。先日<a href=\"https://twitter.com/kurokijiro\">和処黒木</a>に行った時に八木メシでお馴染みの八木栞FSKと撮った牛しぐれうどんでも載せておく。\r\n<img src=\"https://user-images.githubusercontent.com/1421093/170851081-73034fa3-91c3-43be-94db-dcc08b642156.JPG\" alt=\"IMG_2962\"></p>","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/2/comments","created_at":"2022-05-29T03:46:32Z","events_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/2/events","html_url":"https://github.com/YuheiNakasaka/gialog-diary/issues/2","id":1251778935,"labels":[],"labels_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/2/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHaM3jc5KnKF3","number":2,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/2/reactions"},"repository_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/2/timeline","title":"ブログのカスタマイズ","updated_at":"2022-05-29T03:46:32Z","url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/2","user":{"avatar_url":"https://avatars.githubusercontent.com/u/1421093?v=4","events_url":"https://api.github.com/users/YuheiNakasaka/events{/privacy}","followers_url":"https://api.github.com/users/YuheiNakasaka/followers","following_url":"https://api.github.com/users/YuheiNakasaka/following{/other_user}","gists_url":"https://api.github.com/users/YuheiNakasaka/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/YuheiNakasaka","id":1421093,"login":"YuheiNakasaka","node_id":"MDQ6VXNlcjE0MjEwOTM=","organizations_url":"https://api.github.com/users/YuheiNakasaka/orgs","received_events_url":"https://api.github.com/users/YuheiNakasaka/received_events","repos_url":"https://api.github.com/users/YuheiNakasaka/repos","site_admin":false,"starred_url":"https://api.github.com/users/YuheiNakasaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuheiNakasaka/subscriptions","type":"User","url":"https://api.github.com/users/YuheiNakasaka"}},"issueComments":[{"body":"[RSSフィード](https://yuheinakasaka.github.io/gialog-diary/feed.xml)も作った。r7kamuraさんの[r7kamura/diary](https://github.com/r7kamura/diary)のコードをほぼほぼ頂戴させていただいた。\r\n\r\n仕組みとしてはすでに生成されてる記事の`issue.md`の情報を使って`getStaticProps`で`public/feed.xml`へ静的ファイルとして吐き出す。すると`https://yuheinakasaka.github.io/gialog-diary/feed.xml`という感じのURLでアクセスできる。\r\n\r\nGitHub Actionsはあんまり使いこなせてなかったけど、ちょっとしたサーバーレス環境みたいな感じで使えて便利だなーと思った。もう少し仕組みとか調べておくか。。。","bodyHTML":"<p><a href=\"https://yuheinakasaka.github.io/gialog-diary/feed.xml\">RSSフィード</a>も作った。r7kamuraさんの<a href=\"https://github.com/r7kamura/diary\">r7kamura/diary</a>のコードをほぼほぼ頂戴させていただいた。</p>\n<p>仕組みとしてはすでに生成されてる記事の<code>issue.md</code>の情報を使って<code>getStaticProps</code>で<code>public/feed.xml</code>へ静的ファイルとして吐き出す。すると<code>https://yuheinakasaka.github.io/gialog-diary/feed.xml</code>という感じのURLでアクセスできる。</p>\n<p>GitHub Actionsはあんまり使いこなせてなかったけど、ちょっとしたサーバーレス環境みたいな感じで使えて便利だなーと思った。もう少し仕組みとか調べておくか。。。</p>","author_association":"OWNER","created_at":"2022-05-29T13:10:22Z","html_url":"https://github.com/YuheiNakasaka/gialog-diary/issues/2#issuecomment-1140446177","id":1140446177,"issue_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/2","node_id":"IC_kwDOHaM3jc5D-dPh","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/comments/1140446177/reactions"},"updated_at":"2022-05-29T13:10:22Z","url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/comments/1140446177","user":{"avatar_url":"https://avatars.githubusercontent.com/u/1421093?v=4","events_url":"https://api.github.com/users/YuheiNakasaka/events{/privacy}","followers_url":"https://api.github.com/users/YuheiNakasaka/followers","following_url":"https://api.github.com/users/YuheiNakasaka/following{/other_user}","gists_url":"https://api.github.com/users/YuheiNakasaka/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/YuheiNakasaka","id":1421093,"login":"YuheiNakasaka","node_id":"MDQ6VXNlcjE0MjEwOTM=","organizations_url":"https://api.github.com/users/YuheiNakasaka/orgs","received_events_url":"https://api.github.com/users/YuheiNakasaka/received_events","repos_url":"https://api.github.com/users/YuheiNakasaka/repos","site_admin":false,"starred_url":"https://api.github.com/users/YuheiNakasaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuheiNakasaka/subscriptions","type":"User","url":"https://api.github.com/users/YuheiNakasaka"}}],"pickupArticles":[{"body":"![IMG_3752_res](https://user-images.githubusercontent.com/1421093/208240728-326abfc0-9866-4ece-ab53-3d86558ac382.JPG)\r\n\r\nピスタチオを使ったバスクチーズケーキ。チーズケーキ本体とピスタチオクリームはなめらかで渋い味わい。これ単体で食べると和菓子に近いかもしれないくらいだ。しかし周りのラズベリーソースを合わせることで視界は一変する。ラズベリーソースと合わせた瞬間に銀座でお茶するマダムから原宿でクレープを頬張る大学生くらい味が変わる。時期的にもちょうどクリスマスケーキの位置付けだからこのくらい浮き足立った味でピッタリだと思う。毎度思うがここのチーズケーキは本体・クリーム・ソースを合わせた時の調和に力を入れており、それらを合わせた時に完成するようにできている。今回も本体だけとかクリームだけで食べた時はやや弱いか？と感じたが、全て合わせた時にこれ！！となった。この辺はいつも作り込まれていて感心する。とはいえやはり10月のゴマや今や定番メニューとなった抹茶と比べると劣る。","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/38/comments","created_at":"2023-02-05T06:38:53Z","events_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/38/events","html_url":"https://github.com/YuheiNakasaka/gialog-diary/issues/38","id":1571288380,"labels":[],"labels_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/38/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHaM3jc5dp_U8","number":38,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/38/reactions"},"repository_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/38/timeline","title":"202カリー堂の12月の新作。ピスタチオバスクチーズケーキ。","updated_at":"2023-02-05T06:38:53Z","url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/38","user":{"avatar_url":"https://avatars.githubusercontent.com/u/1421093?v=4","events_url":"https://api.github.com/users/YuheiNakasaka/events{/privacy}","followers_url":"https://api.github.com/users/YuheiNakasaka/followers","following_url":"https://api.github.com/users/YuheiNakasaka/following{/other_user}","gists_url":"https://api.github.com/users/YuheiNakasaka/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/YuheiNakasaka","id":1421093,"login":"YuheiNakasaka","node_id":"MDQ6VXNlcjE0MjEwOTM=","organizations_url":"https://api.github.com/users/YuheiNakasaka/orgs","received_events_url":"https://api.github.com/users/YuheiNakasaka/received_events","repos_url":"https://api.github.com/users/YuheiNakasaka/repos","site_admin":false,"starred_url":"https://api.github.com/users/YuheiNakasaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuheiNakasaka/subscriptions","type":"User","url":"https://api.github.com/users/YuheiNakasaka"}},{"body":"「作るのにどれくらいかかりますか？」と訊かれるとイラッとしてしまうことがある。そうなってしまう理由についてある程度自分の中で言語化しておきたい。\r\n\r\nそういう訊かれ方をする状況は大抵小規模なMTGで何かのプロジェクトの企画段階で起きる。OOなユーザー向けにXXという機能を追加しようかと思っているんですが、これ作るのにどれくらいかかりますか？といった具合だ。\r\n\r\nこういった質問が飛んでくる場合は決まって企画側で未確定の要素が多い。こちらとしては未確定の要素があると曖昧の見積りしかできないし、当然不測の事態を想定して多めにバッファを含めた回答になる。そうすると(おそらく)想定よりも長めの期間の見積りを返された企画者は開発にそんなに掛かるのか...と不満げな様子になってしまう。こちらは困らせたくて長めに見積もりを出しているわけではないのに開発にそんなに掛かるのか...という雰囲気を出されると開発者としての力量を疑われているように感じてしまってイラッとしてしまう。\r\n\r\nその他のパターンとしては企画の中に未知の開発が含まれている場合だ。例えばOOOというサードパーティのSDKを使ったBotシステムを作りたいんだけどもこれ作るのにどれくらいかかりますか？といった具合である。\r\n\r\nOOOというサードパーティのSDKに関して過去に利用した経験がなく触ってみないとわからないパターン。その際はこのSDKはまだ使ったことがないのではっきりとどのくらいとは言いづらいので少し調査してからの回答でもいいですか？と聞くものの、企画者は何やら急ぎで回答がほしいようだ。そこでざっくりとでいいのでどのくらいか分かりませんかね？と言ってくる。仕方ないので未確定の要素を多めに勘案して多めの見積もりをいう。というこの一連のやり取りでイラッとしてしまう。\r\n\r\n企画者の中にはエンジニアは技術に関して全てを把握しているかのように考えている人がいる。そんな人間がいるなら教えてほしい。自分の専門に関することならつゆ知れず、大抵ははっきりと決断しきれない技術的概念の方が多いので常に調査しながら開発している人の方が多いはずだ。\r\n\r\nこうやって少し言語化してみると、「こんな簡単そうな開発にもこんな時間がかかるのかよ」とか「OOに関する知識ないんだ」とか **お前スキル不足なのでは？と暗に突きつけられてしまうような物言い** にイラッとしてしまうのだなとわかった。\r\n\r\nもちろん相手にそんな気はないと思うしそれぞれの都合があると思うから仕方ないとは理解してるのでこういう企画者滅ぶべしとかは全然思ってないです。あくまでも自分の気持ちを噛み砕いて整理したいという意図で書いている。\r\n","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7/comments","created_at":"2022-06-09T12:59:25Z","events_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7/events","html_url":"https://github.com/YuheiNakasaka/gialog-diary/issues/7","id":1266095246,"labels":[],"labels_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHaM3jc5LdxSO","number":7,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7/reactions"},"repository_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7/timeline","title":"「作るのにどれくらいかかりますか？」と訊かれるとイラッとしてしまう","updated_at":"2022-06-09T12:59:25Z","url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/7","user":{"avatar_url":"https://avatars.githubusercontent.com/u/1421093?v=4","events_url":"https://api.github.com/users/YuheiNakasaka/events{/privacy}","followers_url":"https://api.github.com/users/YuheiNakasaka/followers","following_url":"https://api.github.com/users/YuheiNakasaka/following{/other_user}","gists_url":"https://api.github.com/users/YuheiNakasaka/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/YuheiNakasaka","id":1421093,"login":"YuheiNakasaka","node_id":"MDQ6VXNlcjE0MjEwOTM=","organizations_url":"https://api.github.com/users/YuheiNakasaka/orgs","received_events_url":"https://api.github.com/users/YuheiNakasaka/received_events","repos_url":"https://api.github.com/users/YuheiNakasaka/repos","site_admin":false,"starred_url":"https://api.github.com/users/YuheiNakasaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuheiNakasaka/subscriptions","type":"User","url":"https://api.github.com/users/YuheiNakasaka"}},{"body":"最近というかここ1年くらいなんだけどアニメを全くといっていいほど観なくなった。昔は毎クールどんなアニメが放送されるのかチェックしていくつか嗜むみたいなことしていたのにこれはどういうことか。\r\n\r\n一つは興味が薄れたこと。アニメに何を求めて観るかは人それぞれ自由だが自分の場合は声優だった。ストーリーはもちろん好き嫌いあるけど作画とか音楽についてはそんなに興味がなかった。子供の頃から\"声\"が好きで高校では放送部でアナウンスとかをやっていたくらいだ。一時期は声優のラジオを毎週20番組くらい録音していたりなどライフワークになっていた([radiorec](https://github.com/YuheiNakasaka/radiorec)という専用のサーバーも書いたりしてた)。ところがその興味が徐々にアイドル(ハロプロ)へと軸足が移っていき、今ではもうラジオの録音すらやめてしまった(声優情報はちょっとだけ追ってるけど)。\r\n\r\nアニメもアイドルもどちらも追えばいいのにという意見は尤もだけど、これが年齢によるものなのか興味を絞ってその空いた分の時間でよりそれを深めたいという欲求が20代の頃よりも強まったように感じる。幅広く好奇心のままに手をつける体力が無くなったのかもしれない。\r\n\r\nもう一つはアニメの制作現場を近くで見過ぎていること。現在はアニメーターと同居しているので近くでアニメ制作の声を聞くことができるのだがそれがとても2022年とは思えないような環境で辛くなってしまっている。元々何年も前からアニメーターの待遇が良くないと言われてはいたがこんなに大変なのかと驚いた。アニメSHIROBAKOでも炎上プロジェクトに万策尽きたと監督が騒いでいるシーンが印象的だったが、あれはリアルよりはだいぶマシである。\r\n\r\n具体的なエピソードを挙げるのは控えるけど雇用契約は杜撰だし休みは全然無いし長時間労働(多分月300時間くらいは普通にやってる)しそれで給料が大学新卒の初任給に届かないしかつ正社員ではないみたいな感じの人(もしくはそれ以下)の人がザラにいる。食っていけないからUberなど隙間バイトをやってるみたいな人もいるっぽい。制作や演出の人たちでも似たようなもんのところが多めということでまじか...となっている。\r\n\r\nそれでも待遇改善をしようと活動している人達や団体ももちろんいるが、業界全体のほとんどが下請け構造で予算も大してないから下に落ちていく金はそもそもない。映画もそうだがこういう制作はどのくらい成功するのか読めなくて博打的な要素があるから安定させるのは至難の技だ。構造的に誰が頑張っても如何ともし難い雰囲気がある。それでもアニメが毎クール制作されているのはアニメを作るのが好きという気持ち一つで身を粉にしている人達がいるからだ。\r\n\r\n自分は世の中のアニメの多くは彼らの削った命で生み出されているというのを間近で観てしまったのでアニメを観るのが憂鬱になってしまった。家畜の生産現場を知ることでヴィーガンになる人が多いようにアニメ制作の現場という現代のプランテーション農場をリアルに見聞きしてしまったが故にその反発でアニメを観るのがキツくなったのだろうなと思う。観た方がお金は落ちるし彼ら業界のためには良いんだろうけども...","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/6/comments","created_at":"2022-06-05T14:55:20Z","events_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/6/events","html_url":"https://github.com/YuheiNakasaka/gialog-diary/issues/6","id":1261068974,"labels":[],"labels_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/6/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHaM3jc5LKmKu","number":6,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/6/reactions"},"repository_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/6/timeline","title":"アニメを観なくなった","updated_at":"2022-06-05T14:55:20Z","url":"https://api.github.com/repos/YuheiNakasaka/gialog-diary/issues/6","user":{"avatar_url":"https://avatars.githubusercontent.com/u/1421093?v=4","events_url":"https://api.github.com/users/YuheiNakasaka/events{/privacy}","followers_url":"https://api.github.com/users/YuheiNakasaka/followers","following_url":"https://api.github.com/users/YuheiNakasaka/following{/other_user}","gists_url":"https://api.github.com/users/YuheiNakasaka/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/YuheiNakasaka","id":1421093,"login":"YuheiNakasaka","node_id":"MDQ6VXNlcjE0MjEwOTM=","organizations_url":"https://api.github.com/users/YuheiNakasaka/orgs","received_events_url":"https://api.github.com/users/YuheiNakasaka/received_events","repos_url":"https://api.github.com/users/YuheiNakasaka/repos","site_admin":false,"starred_url":"https://api.github.com/users/YuheiNakasaka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuheiNakasaka/subscriptions","type":"User","url":"https://api.github.com/users/YuheiNakasaka"}}]},"__N_SSG":true}