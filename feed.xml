<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[YuheiNakasaka's diary]]></title><description><![CDATA[YuheiNakasakaの日記]]></description><link>https://yuheinakasaka.github.io/</link><generator>YuheiNakasaka/gialog-diary</generator><lastBuildDate>Sun, 29 May 2022 13:11:53 GMT</lastBuildDate><atom:link href="https://yuheinakasaka.github.io/feed.xml" rel="self" type="application/rss+xml"/><item><title><![CDATA[ブログのカスタマイズ]]></title><description><![CDATA[YuheiNakasaka's diary on 2022-05-29]]></description><link>https://yuheinakasaka.github.io/articles/2</link><guid isPermaLink="true">https://yuheinakasaka.github.io/articles/2</guid><pubDate>Sun, 29 May 2022 03:46:32 GMT</pubDate><content:encoded><![CDATA[<p>昨日gialogで作ったブログを少しカスタマイズした。</p>
<p>具体的にはOGPの設定やTwitterボタンの設置。</p>
<p>最初GitHubのAPIにそんなに詳しくないからYAML front-matterでIssueから渡ってくるレスポンスの種類にどんなものがあるのかわからなかった。とりあえずはGitHubの<a href="https://docs.github.com/ja/rest/issues/issues">APIリファレンス</a>を読むと大体解決した。</p>
<p>OGPの画像は記事内を正規表現で走査して最初に登場する画像を設定するようにしている。<code>/\((http[s]*.+\.(?:png|jpg|jpeg|gif))?\)/i</code>みたいなやつを使っているが、後方参照のキャプチャしないやつの書き方を思い出せなくてちょっと迷った。今回はキャプチャされてもいいんだけど、気分的に無駄なキャプチャは嫌である。グローバルな一致とかだとパフォーマンス問題が起きたりするなど<a href="https://amzn.to/3NaYcAs">詳説 正規表現</a>に書いてた気もするから避けられるなら避けた方が良さげ。</p>
<p>あとちょっと困ってるのはOGP画像が仕様を超える解像度だった場合にTwitter Cardでうまく表示されない問題がある。これはどう対応したものかちょっと考えているところ。</p>
<p>それと雑でもいいので検索を設置したくてGoogle検索へのリンクを配置したがまだインデックスされていないから機能しない。時間が解決するのかなこれ。。</p>
<p>最後にOGPのテスト。先日<a href="https://twitter.com/kurokijiro">和処黒木</a>に行った時に八木メシでお馴染みの八木栞FSKと撮った牛しぐれうどんでも載せておく。
<img src="https://user-images.githubusercontent.com/1421093/170851081-73034fa3-91c3-43be-94db-dcc08b642156.JPG" alt="IMG_2962"></p><hr><p><a href="https://yuheinakasaka.github.io/gialog-diary/feed.xml">RSSフィード</a>も作った。r7kamuraさんの<a href="https://github.com/r7kamura/diary">r7kamura/diary</a>のコードをほぼほぼ頂戴させていただいた。</p>
<p>仕組みとしてはすでに生成されてる記事の<code>issue.md</code>の情報を使って<code>getStaticProps</code>で<code>public/feed.xml</code>へ静的ファイルとして吐き出す。すると<code>https://yuheinakasaka.github.io/gialog-diary/feed.xml</code>という感じのURLでアクセスできる。</p>
<p>GitHub Actionsはあんまり使いこなせてなかったけど、ちょっとしたサーバーレス環境みたいな感じで使えて便利だなーと思った。もう少し仕組みとか調べておくか。。。</p>]]></content:encoded></item><item><title><![CDATA[gialogで簡単に日記を作るやつをやった]]></title><description><![CDATA[YuheiNakasaka's diary on 2022-05-28]]></description><link>https://yuheinakasaka.github.io/articles/1</link><guid isPermaLink="true">https://yuheinakasaka.github.io/articles/1</guid><pubDate>Sat, 28 May 2022 09:22:36 GMT</pubDate><content:encoded><![CDATA[<h2>経緯</h2>
<p>昨日<a href="https://github.com/YuheiNakasaka/life/blob/main/_posts/20220527-tutorial.md">GitHubに日記を書く運用</a>というやつを書いたんだけど、実際にやってみると色々と微妙に使い心地がよくなくてう〜〜〜んとなってしまった。</p>
<p>その旨をツイートしたところr7kamuraさんがGitHub issuesをエディタにしてブログを作れるクソ便利ツールを教えてくれた。</p>
<p><img src="https://user-images.githubusercontent.com/1421093/170819012-f920b5be-ec7b-4cfd-8bb4-ef4730de3754.png" alt="https://user-images.githubusercontent.com/1421093/170819012-f920b5be-ec7b-4cfd-8bb4-ef4730de3754.png"></p>
<h2>gialogを使った日記の作り方</h2>
<p><a href="https://github.com/r7kamura/gialog">r7kamura/gialog</a>のリポジトリのREADME.mdに書かれているリンクをポチっとやって、自分用のリポジトリを適当に作成する。するとGitHub Actionsが起動し、gh-pagesへNext.js製のSGGのブログサイトがデプロイされる。これだけ。</p>
<p>あとはissuesを更新することでActionsがその更新を検知して変更を反映してくれるという仕組みっぽい。</p>
<p>サイト自体は普通のNext.js製なのでテーマの概念とかはないけども、その辺は勉強がてらコードを拡張していけばいいんじゃないですかね〜という感じ。</p>
<p>最近のぴよぴよフロントエンドピーポーにとってはNext.jsが一昔前のRailsだろうから大体弄れるだろうし、ちょっとした現代のWordPress感あってよいなとも思った。</p>]]></content:encoded></item></channel></rss>